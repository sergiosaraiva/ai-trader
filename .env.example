# PostgreSQL Database Configuration
# SECURITY WARNING: These are DEVELOPMENT credentials only!
# For production, use strong passwords and never commit them to version control.
# For local development with docker-compose
DATABASE_URL=postgresql://aitrader:aitrader_dev_password@localhost:5432/aitrader

# PostgreSQL credentials (used by docker-compose)
# IMPORTANT: Change these values for production deployment!
POSTGRES_USER=aitrader
POSTGRES_PASSWORD=aitrader_dev_password  # CHANGE THIS IN PRODUCTION!
POSTGRES_DB=aitrader

# Environment setting (development, staging, production)
ENVIRONMENT=development

# FRED API Key for sentiment data (EPU, VIX)
# Get your key at: https://fred.stlouisfed.org/docs/api/api_key.html
FRED_API_KEY=your_fred_api_key_here

# OpenAI API Key for LLM trade explanations
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=your_openai_api_key_here

# Scheduler Configuration
# Set to "true" for always-on scheduling, "false" for Railway cron
SCHEDULER_ENABLED=true

# Cron API Key (for Railway external cron triggers)
CRON_API_KEY=your_secure_random_key_here

# Backend Service Configuration
PORT=8001
PYTHONPATH=/app

# Frontend Configuration
BACKEND_URL=http://backend:8001

# ========================================
# Agent Configuration
# ========================================

# Trading Mode
# - simulation: No real trades, uses simulated market data
# - paper: Real price feed from MT5, no real money (requires MT5 connection)
# - live: REAL MONEY TRADING (requires MT5 credentials and thorough testing)
AGENT_MODE=simulation

# Trading Parameters
AGENT_SYMBOL=EURUSD                      # Trading symbol
AGENT_CONFIDENCE_THRESHOLD=0.70          # Minimum confidence to trade (0.0-1.0)
AGENT_MAX_POSITION_SIZE=0.1              # Maximum lot size (e.g., 0.1 = 10,000 units)
AGENT_USE_KELLY_SIZING=true              # Use Kelly Criterion for position sizing
AGENT_INITIAL_CAPITAL=100000.0           # Starting capital (for simulation/paper)

# Agent Timing
AGENT_CYCLE_INTERVAL=60                  # How often to check predictions (seconds)

# Health Check
AGENT_HEALTH_PORT=8002                   # Health check HTTP port

# MT5 Credentials (Required for paper/live modes)
# IMPORTANT: MT5 requires Windows. Docker containers run Linux, so only simulation mode works in Docker.
# For paper/live trading, run the agent natively on Windows or use WSL2 with proper setup.
AGENT_MT5_LOGIN=                         # Your MT5 account number
AGENT_MT5_PASSWORD=                      # Your MT5 password
AGENT_MT5_SERVER=                        # Your MT5 server (e.g., "MetaQuotes-Demo")

# Safety Limits
AGENT_MAX_CONSECUTIVE_LOSSES=5           # Stop trading after N consecutive losses
AGENT_MAX_DRAWDOWN_PERCENT=10.0          # Stop if drawdown exceeds this % (e.g., 10.0 = 10%)
AGENT_MAX_DAILY_LOSS_PERCENT=5.0         # Stop if daily loss exceeds this % (e.g., 5.0 = 5%)
AGENT_ENABLE_MODEL_DEGRADATION=false     # Monitor and pause on model degradation

# Live Trading Confirmation
# CRITICAL: Set to "true" ONLY after thorough testing in simulation and paper modes
# This is a safety mechanism to prevent accidental live trading
AGENT_LIVE_TRADING_CONFIRMED=false       # Required for live mode - confirms you understand the risks
