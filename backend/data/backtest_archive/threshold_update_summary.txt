â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              THRESHOLD UPDATE - COMPLETE SUMMARY                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Date: 2026-01-26 12:30 UTC
Action: Updated confidence threshold from 70% to 60%

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
WHAT WAS DONE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… 1. Backed up existing backtest results
   Location: backend/data/backtest_archive/backtest_results_70pct_*.json

âœ… 2. Updated threshold in code (70% â†’ 60%)
   Files modified:
   â€¢ backend/src/api/services/model_service.py (line 271, 463)
   â€¢ backend/src/models/multi_timeframe/mtf_ensemble.py (line 199)

âœ… 3. Fixed pandas compatibility issue
   â€¢ Changed "4H" â†’ "4h" in backtest script
   â€¢ Fixed "1D" â†’ "1d" frequency strings

âœ… 4. Re-ran backtests at ALL thresholds
   â€¢ 55% threshold: COMPLETED
   â€¢ 60% threshold: COMPLETED â­
   â€¢ 65% threshold: COMPLETED
   â€¢ 70% threshold: COMPLETED

âœ… 5. Created comprehensive comparison analysis
   Reports saved:
   â€¢ backtest_threshold_comparison.txt (16KB detailed analysis)
   â€¢ backtest_results_comparison.json (structured data)
   â€¢ backtest_*_full.log (raw backtest outputs)

âœ… 6. Restarted backend with new 60% threshold
   Status: Backend running, scheduler active


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
BACKTEST RESULTS SUMMARY
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Threshold | Trades | Win Rate | Pips    | Profit Factor | Status
----------|--------|----------|---------|---------------|--------
   55%    | 1,151  |  55.5%   | +7,143  |     1.97      | Too many
   60%    | 1,092  |  56.0%   | +6,994  |     2.01      | â­ ACTIVE
   65%    | 1,018  |  57.8%   | +7,192  |     2.17      | Better
   70%    |   926  |  60.0%   | +7,347  |     2.39      | Best but unusable


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
KEY FINDINGS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. OLD BACKTEST WAS INCORRECT
   â€¢ Showed same results for all thresholds (impossible)
   â€¢ Likely ran at 55% regardless of claimed threshold
   â€¢ New backtests properly vary by threshold

2. 70% THRESHOLD WORKS HISTORICALLY BUT NOT LIVE
   â€¢ Historical: 926 trades, 60% win rate, best results
   â€¢ Current: 0% of predictions meet 70% confidence
   â€¢ Model confidence degraded ~8% vs historical data

3. 60% THRESHOLD IS VIABLE
   â€¢ 1,092 historical trades, 56% win rate
   â€¢ 75% of current live predictions meet this
   â€¢ System will actually trade (not stay dormant)

4. QUALITY IMPROVES WITH HIGHER THRESHOLDS
   â€¢ Win rate: 55.5% â†’ 56% â†’ 57.8% â†’ 60%
   â€¢ Profit factor: 1.97 â†’ 2.01 â†’ 2.17 â†’ 2.39
   â€¢ But: Must be achievable by model!


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
WHY 60% WAS CHOSEN
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… ACHIEVABLE
   â€¢ 75% of current predictions qualify (24/32)
   â€¢ System will trade regularly, not stay dormant
   â€¢ Better than 70% (0% qualify)

âœ… PROFITABLE
   â€¢ Historical: 56% win rate, 2.01 profit factor
   â€¢ +6,994 pips over test period
   â€¢ Above professional standards (>52% WR)

âœ… REASONABLE FREQUENCY
   â€¢ Historical: ~24 trades/week (3.5/day)
   â€¢ Manageable for swing trading style
   â€¢ Can monitor and adjust if needed

âœ… ROOM TO IMPROVE
   â€¢ Can tighten to 65% if live performance strong
   â€¢ 65% shows better metrics (57.8% WR, 2.17 PF)
   â€¢ Also achievable with current model (75%)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
COMPARISON: OLD vs NEW RESULTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OLD (backtest_results.json):
  â€¢ Claimed 70% threshold
  â€¢ 887 trades, 56.5% WR, 5,239 pips
  â€¢ SAME for all thresholds (55-70%) â† WRONG

NEW (actual backtests):
  â€¢ Properly tested each threshold
  â€¢ Results vary correctly by threshold
  â€¢ Higher totals: 7,143-7,347 pips vs 5,239
  â€¢ More accurate representation


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
LIVE MODEL ANALYSIS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Current Predictions (32 total):
  â€¢ Mean confidence: 59.7%
  â€¢ Range: 55-68%
  â€¢ Dominant: 65-68% (75% of predictions)

Threshold Impact:
  â€¢ At 55%: 100% of predictions trade (32/32)
  â€¢ At 60%: 75% of predictions trade (24/32) â­
  â€¢ At 65%: 75% of predictions trade (24/32)
  â€¢ At 70%: 0% of predictions trade (0/32) âŒ

Problem Identified:
  â€¢ Historical test set: 12.4% of predictions >= 70%
  â€¢ Current live model: 0% of predictions >= 70%
  â€¢ ~8% confidence degradation vs historical


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
FILES MODIFIED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. backend/src/api/services/model_service.py
   Line 271, 463:
   - "should_trade": bool(prediction.confidence >= 0.70)
   + "should_trade": bool(prediction.confidence >= 0.60)

2. backend/src/models/multi_timeframe/mtf_ensemble.py
   Line 199:
   - return self.confidence >= 0.70
   + return self.confidence >= 0.60

3. backend/scripts/backtest_mtf_ensemble.py (bug fix)
   - ts.floor("4H")
   + ts.floor("4h")


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
REPORTS GENERATED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

All saved in: backend/data/backtest_archive/

1. backtest_threshold_comparison.txt (16KB)
   â€¢ Detailed analysis of all thresholds
   â€¢ Trade frequency, quality metrics
   â€¢ Recommendations and findings

2. backtest_results_comparison.json (3KB)
   â€¢ Structured data for programmatic access
   â€¢ All threshold results in JSON format
   â€¢ Key findings and metadata

3. backtest_55pct_full.log (6KB)
   â€¢ Complete output of 55% backtest
   â€¢ 1,151 trades, 55.5% WR

4. backtest_60pct_full.log (6KB)
   â€¢ Complete output of 60% backtest â­
   â€¢ 1,092 trades, 56.0% WR

5. backtest_65pct_full.log (6KB)
   â€¢ Complete output of 65% backtest
   â€¢ 1,018 trades, 57.8% WR

6. backtest_70pct_full.log (6KB)
   â€¢ Complete output of 70% backtest
   â€¢ 926 trades, 60.0% WR (best but not achievable)

7. backtest_results_70pct_*.json (3KB)
   â€¢ Original incorrect results (archived)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
NEXT STEPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

IMMEDIATE:
  1. âœ… Backend restarted with 60% threshold
  2. âœ… System now configured for realistic trading
  3. ğŸ“± Refresh browser (Ctrl+F5) to see updates

MONITOR (Next 1-2 Weeks):
  â€¢ Live win rate: Should be ~56%
  â€¢ Trade frequency: Expect ~3-4 trades/day
  â€¢ Confidence distribution: Should stay 60-68%
  â€¢ Signal History: Should show mix of TRADE/HOLD

ADJUST:
  â€¢ If live WR > 58%: Consider raising to 65%
  â€¢ If live WR < 54%: Keep at 60% or research why
  â€¢ If too many trades: Increase threshold
  â€¢ If too few trades: Check model confidence

INVESTIGATE:
  â€¢ Why did model confidence drop vs historical?
  â€¢ Is recent market less predictable?
  â€¢ Does model need recalibration?
  â€¢ Should we use agreement score instead?


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
SYSTEM STATUS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… Backend: Running (http://localhost:8001)
âœ… Frontend: Running (http://localhost:3001)
âœ… Scheduler: Active (next prediction at :01)
âœ… Threshold: Updated to 60%
âœ… Backtests: Completed and archived

âš ï¸  Next prediction will use 60% threshold
âš ï¸  Will be marked as tradeable if confidence >= 60%
âš ï¸  Expected: 75% of predictions will trigger trades


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   âœ… THRESHOLD UPDATE COMPLETE                   â•‘
â•‘                                                                  â•‘
â•‘  New Threshold: 60% (was 70%)                                   â•‘
â•‘  Historical Performance: 1,092 trades, 56% WR, +6,994 pips     â•‘
â•‘  Live Achievability: 75% of predictions qualify                 â•‘
â•‘  System Status: Active and ready for trading                    â•‘
â•‘                                                                  â•‘
â•‘  All backtest reports saved in:                                 â•‘
â•‘  backend/data/backtest_archive/                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
