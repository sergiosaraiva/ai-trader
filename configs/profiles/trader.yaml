# =============================================================================
# TRADER PROFILE
# =============================================================================
# Optimized for active day trading and swing trading
# Target users: Day traders, swing traders, active position traders
#
# Inherits from: base.yaml
# This profile is closest to the base configuration
# =============================================================================

profile:
  name: "trader"
  version: "1.0"
  description: "Active trading profile for day/swing traders"
  inherits: "base"

  # ===========================================================================
  # TIMEFRAMES - Standard trading intervals
  # ===========================================================================
  # Uses base profile timeframes: 1H -> 4H -> 1D
  # (1H, 4H, 1D are inherited from base - no override needed)

  timeframes:
    short_term:
      candle_minutes: 60          # 1H candles
      input_window: 168           # 7 days
      prediction_horizons:
        - {periods: 1, label: "1H"}
        - {periods: 4, label: "4H"}
        - {periods: 12, label: "12H"}
        - {periods: 24, label: "24H"}

    medium_term:
      candle_minutes: 240         # 4H candles
      input_window: 180           # 30 days
      prediction_horizons:
        - {periods: 1, label: "4H"}
        - {periods: 3, label: "12H"}
        - {periods: 6, label: "24H"}
        - {periods: 12, label: "48H"}

    long_term:
      candle_minutes: 1440        # Daily candles
      input_window: 90            # 3 months
      prediction_horizons:
        - {periods: 1, label: "1D"}
        - {periods: 3, label: "3D"}
        - {periods: 5, label: "5D"}
        - {periods: 7, label: "7D"}

  # ===========================================================================
  # TECHNICAL INDICATORS - Balanced indicator set
  # ===========================================================================
  # Mostly inherits from base with minor adjustments

  indicators:
    short_term:
      trend:
        ema:
          enabled: true
          periods: [8, 13, 21, 55]
          priority: P0
        supertrend:
          enabled: true
          period: 10
          multiplier: 3.0
          priority: P1
        sma:
          enabled: true
          periods: [20, 50]
          priority: P1

      momentum:
        rsi:
          enabled: true
          periods: [7, 14]
          overbought: 70
          oversold: 30
          priority: P0
        macd:
          enabled: true
          fast: 12
          slow: 26
          signal: 9
          priority: P0
        stochastic:
          enabled: true
          k_period: 14
          d_period: 3
          priority: P1
        mfi:
          enabled: true
          period: 14
          priority: P1

      volatility:
        atr:
          enabled: true
          period: 14
          normalized: true
          priority: P0
        bollinger:
          enabled: true
          period: 20
          std_dev: 2.0
          priority: P0

      volume:
        obv:
          enabled: true
          priority: P0
        vwap:
          enabled: true
          priority: P1

    # medium_term and long_term inherit from base

  # ===========================================================================
  # ENSEMBLE - Balanced weighting
  # ===========================================================================

  ensemble:
    base_weights:
      short_term: 0.30
      medium_term: 0.35
      long_term: 0.35

    dynamic_adjustment:
      enabled: true
      regime_weights:
        trending_up:
          short_term: 0.25
          medium_term: 0.35
          long_term: 0.40
        trending_down:
          short_term: 0.25
          medium_term: 0.35
          long_term: 0.40
        ranging:
          short_term: 0.40
          medium_term: 0.35
          long_term: 0.25
        volatile:
          short_term: 0.35
          medium_term: 0.35
          long_term: 0.30

  # ===========================================================================
  # SIGNALS - Standard thresholds
  # ===========================================================================

  signals:
    min_confidence: 0.60
    high_confidence: 0.80

    buy_threshold: 0.30
    sell_threshold: -0.30
    strong_buy_threshold: 0.50
    strong_sell_threshold: -0.50

    neutral_zone:
      lower: -0.15
      upper: 0.15

    require_alignment: false
    min_aligned_models: 2
    cooldown_periods: 1

  # ===========================================================================
  # RISK - Standard risk management
  # ===========================================================================

  risk:
    position_sizing:
      method: "risk_parity"
      max_position_pct: 2.0
      risk_per_trade_pct: 1.0

    stop_loss:
      method: "atr"
      atr_multiplier: 2.0
      min_pct: 0.5
      max_pct: 4.0

    take_profit:
      method: "risk_reward"
      risk_reward_ratio: 2.0
      atr_multiplier: 3.0

    trailing_stop:
      enabled: true
      activation_pct: 1.0
      trail_pct: 0.5

    max_drawdown_pct: 15.0
    max_daily_loss_pct: 3.0
    max_consecutive_losses: 5

  # ===========================================================================
  # SESSIONS - All major sessions
  # ===========================================================================

  sessions:
    enabled: true
    # Note: Times are standard UTC (non-DST). During DST, add 1 hour.

    active_sessions:
      - name: "Tokyo"
        start: "23:00"              # 23:00-08:00 UTC
        end: "08:00"
        weight: 0.9
      - name: "London"
        start: "07:00"              # 07:00-16:00 UTC
        end: "16:00"
        weight: 1.2
      - name: "NewYork"
        start: "12:00"              # 12:00-21:00 UTC
        end: "21:00"
        weight: 1.2

    overlap_weight_bonus: 1.3
    avoid_low_liquidity: true

    news_handling:
      enabled: true
      blackout_minutes_before: 30
      blackout_minutes_after: 15

  # ===========================================================================
  # BACKTESTING
  # ===========================================================================

  backtesting:
    walk_forward:
      enabled: true
      train_periods: 252          # 1 year
      test_periods: 63            # 3 months
      step_periods: 21            # 1 month

  # ===========================================================================
  # LOGGING
  # ===========================================================================

  logging:
    mlflow:
      experiment_name: "trader_profile"
